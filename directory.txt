ETL_pipeline/
│
├── data/                                         # All input/output data
│   │
│   ├── input_pdfs/                               # Raw standards PDFs (ISO/IEC/BIS/EN/etc.)
│   │
│   ├── completed/                                # PDFs already processed by Marker
│   │
│   ├── vector_db/
│   │   │
│   │   ├── vector_db_chunk/                  # ChromaDB for clause-level chunks
│   │   │
│   │   └── vector_db_scope/                  # ChromaDB for document scope embeddings
│   │
│   └── output/
│       │
│       ├── marker_json/                          # Raw Marker JSON (per-PDF folders)
│       │
│       ├── output_json/                          # Cleaned, collected JSON (1 per document)
│       │
│       ├── output_schema/                        # Hierarchical clause schemas
│       │
│       ├── output_json_chunk/                    # Clause-level chunks (pre size-limit)
│       │
│       ├── output_short_chunk/                   # RAG-ready chunks (≤ character limit)
│       │
│       ├── scope/                                # Extracted scope per standard
│       │
│       └── output_images/                        # Images referenced by schema/chunks
│
│
├── src/                                          # All executable code
│   │
│   ├── etl/                                      # ETL-only services (PDF → JSON → chunks)
│   │   │
│   │   ├── __init__.py
│   │   ├── marker_ini.py                         # Run Marker CLI on PDFs
│   │   ├── collect_json.py                       # Collect Marker JSON into flat output_json
│   │   ├── json_to_schema.py                     # Build hierarchical clause schema
│   │   ├── schema_to_chunks.py                   # Convert schema → clause chunks
│   │   ├── chunk_limit_char.py                   # Enforce character limit for RAG
│   │   └── extract_info.py                       # Extract Scope, Document Title, Heading and Test Heading section per standard
│   │
│   ├── rag/                                      # RAG-only services (embeddings + retrieval)
│   │   │
│   │   ├── __init__.py
│   │   ├── embedded_chunks.py                    # Embed short chunks → vector_db_chunk
│   │   ├── retrieval_chunks.py                   # Clause-level retrieval API
│   │   ├── embed_info.py                         # Embed document scope → vector_db_scope
│   │   └── standard_recommend_info.py            # Retrieve best standards by scope
│   │
│   ├── path.py                                   # Centralized paths (DATA_DIR, OUTPUT_DIR, VECTOR_DB_DIR)
│   │
│   └── api_docx.txt                              # API documentation (services & ports)
│
│
├── README.md                                      # Project overview
│
├── directory.txt                                  # This directory description
│
└── requirements.txt                               # Python dependencies
